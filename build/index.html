<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-gb" lang="en-gb" dir="ltr">
<head>
	<title>demo 3d cave viewer</title>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link type="text/css" href="CaveView/css/caveview.css" rel="stylesheet"/>
</head>
<body onload="onload();" >

<script type="text/javascript" src="http://nls.tileserver.com/api.js"></script>
<script type="text/javascript" src="CaveView/lib/proj4.js" ></script>

<script type="text/javascript" src="CaveView/lib/BingProvider.js" ></script>
<script type="text/javascript" src="CaveView/lib/BarmasterProvider.js" ></script>
<script type="text/javascript" src="CaveView/lib/OSMProvider.js" ></script>
<script type="text/javascript" src="CaveView/lib/NLSProvider.js" ></script>
<script type="text/javascript" src="CaveView/lib/BGSProvider.js" ></script>
<script type="text/javascript" src="CaveView/lib/WMTSProvider.js" ></script>
<script type="text/javascript" src="CaveView/lib/IGMEProvider.js" ></script>
<script type="text/javascript" src="CaveView/lib/GB-Formatters.js" ></script>

<script type="text/javascript" src="CaveView/js/CaveView.js" ></script>

<script type="text/javascript" >

function onload () {


	CV.UI.init( "scene", {
		terrainDirectory: "/terrain/",
		surveyDirectory: "/surveys/",
		home: "/CaveView/",
		view: { walls: false, alpha: true },
		alphaWalls: false,
//		displayCRS: 'ORIGINAL',
		cesiumAccessToken: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJlZTk5MmVmZC1iZDU5LTQzMWQtOWY0Zi1mZDYxNDA1MTNjMjgiLCJpZCI6OTEwLCJpYXQiOjE1MjYzMjczMDh9.aJWNt5jc-dt64lR4q7zw0bdp0PARsvupmWjUYUrQVQs',
//		language: "template",
//		defaultCRS: "+proj=tmerc +lat_0=49 +lon_0=-2 +k=0.9996012717 +x_0=400000 +y_0=-100000 +ellps=airy +datum=OSGB36 +units=m +no_defs",
		theme: {
			hud: {
				progress: 0xff0000
			},
		}
	} );

	CV.Viewer.addOverlay( 'Barmaster', new BarmasterProvider() );
	CV.Viewer.addOverlay( 'OSM', new OSMProvider() );
	CV.Viewer.addOverlay( 'BGS Solid', new BGSProvider( [ 'BGS.50k.Bedrock', 'BGS.50k.Linear.features' ] ) );
	CV.Viewer.addOverlay( 'BGS Drift', new BGSProvider( [ 'BGS.50k.Superficial.deposits' ] ) );
	CV.Viewer.addOverlay( 'NLS', new NLSProvider() );
	CV.Viewer.addOverlay( 'Bing Aerial',  new BingProvider( 'Aerial', 'Ap8PRYAyAVcyoSPio8EaFtDEpYJVNwEA70GqYj31EXa6jkT_SduFHMKeHnvyS4D_' ) );
	CV.Viewer.addOverlay( 'Bing OS', new BingProvider( 'OrdnanceSurvey', 'Ap8PRYAyAVcyoSPio8EaFtDEpYJVNwEA70GqYj31EXa6jkT_SduFHMKeHnvyS4D_' ) );
	CV.Viewer.addOverlay( 'WMTS', new WMTSProvider() );
	CV.Viewer.addOverlay( 'IGME', new IGMEProvider() );

//	CV.Viewer.addFormatters( OSGBStationFormatter );

	CV.UI.loadCaveList( [
		"all.3d",
		"P8_Master.3d",
		"MA-all.3d",
		"titan.3d",
		"Giants_Oxlow_Maskhill_System.3d",
		"Lathkill.3d",
		"OFDCPT.3d",
		"BlueWater.lox",
		"Castleton_Master.3d",
		"Cheddar.lox",
		"Peak_Master_NoSurface.3d"
	] );

	//CV.UI.loadCave( "Giants_Oxlow_Maskhill_System.3d" );

}

</script>
<div style="padding: 20px">
<div id="scene"></div>
</div>
<div style="clear: both" id="scratch">.</div>
<p>Mouse: left button down - rotate, right button down pan, mouse wheel - zoom</p>
<p>The Cheddar Survey "Therion" 3D file by University of Bristol Spelaeological Society is released under a
<a rel="license" title="Creative Commons Attribution-Non-Commercial-Share Alike 2.0 UK: England &amp; Wales License" href="http://creativecommons.org/licenses/by-nc-sa/2.0/uk/">Creative Commons</a> license.
<br>
<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/2.0/uk/"><img alt="Creative Commons License" src="http://i.creativecommons.org/l/by-nc-sa/2.0/uk/88x31.png"></a>
</p>
<p>Contains Ordnance Survey data &copy; Crown copyright and database right 2015.</p>
<p>Contains DTM data &copy; Environment Agency copyright and/or database right 2015.</p>
</body>
</html>